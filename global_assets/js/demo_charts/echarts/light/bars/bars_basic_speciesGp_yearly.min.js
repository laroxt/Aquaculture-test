/* ------------------------------------------------------------------------------
 *
 *  # Echarts - Basic bars example
 *
 *  Demo JS code for basic bar chart [light theme]
 *
 * ---------------------------------------------------------------------------- */

// Setup module
// ------------------------------

var EchartsspeciesGpYearly = (function () {
  //
  // Setup module components
  //

  // Basic bar chart
  var _speciesGpYearlyExample = function () {
    if (typeof echarts == "undefined") {
      console.warn("Warning - echarts.min.js is not loaded.");
      return;
    }

    // Define element
    var speciesGp_yearly_element = document.getElementById("speciesGp_yearly");

    //
    // Charts configuration
    //

    if (speciesGp_yearly_element) {
      // Initialize chart
      var speciesGp_yearly = echarts.init(speciesGp_yearly_element);

      //
      // Chart config
      //

      // Options
      speciesGp_yearly.setOption({
        // Global text styles
        textStyle: {
          fontFamily: "Roboto, Arial, Verdana, sans-serif",
          fontSize: 13,
        },

        // Chart animation duration
        animationDuration: 750,

        // Setup grid
        grid: {
          left: 0,
          right: 30,
          bottom: 0,
          top: 60,
          containLabel: true,
        },
        title: {
          text: "Species GP(RM)",
          textStyle: {
            fontSize: 14,
          },
          subtext: "All Species",
        },

        // Add tooltip
        tooltip: {
          trigger: "axis",
          backgroundColor: "rgba(0,0,0,0.75)",
          padding: [10, 15],
          textStyle: {
            fontSize: 13,
            fontFamily: "Roboto, sans-serif",
          },
          axisPointer: {
            type: "shadow",
            shadowStyle: {
              color: "rgba(0,0,0,0.075)",
            },
          },
        },

        // Horizontal axis
        yAxis: [
          {
            type: "value",
            boundaryGap: [0, 0.01],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: "#eee",
                type: "dashed",
              },
            },
          },
        ],

        // Vertical axis
        xAxis: [
          {
            type: "category",
            data: [
              "Red Snapper",
              "Golden Snapper",
              "Pomfret",
              "Seabass",
              "Hybrid Grouper",
              "Gian Grouper",
            ],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#eee"],
              },
            },
            splitArea: {
              show: true,
              areaStyle: {
                color: ["rgba(250,250,250,0.1)", "rgba(0,0,0,0.015)"],
              },
            },
          },
        ],

        // Add series
        series: [
          {
            name: "Year 2021",
            type: "bar",
            itemStyle: {
              normal: {
                color: "#4CB5F5",
              },
            },
            data: [
              {
                value: 1234145,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                  color: "#333",
                },
                itemStyle: { color: "#003f5c" },
              },
              {
                value: 8912321,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                },
                itemStyle: { color: "#5123f1" },
              },
              {
                value: 5123562,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                },
                itemStyle: { color: "#665191" },
              },
              {
                value: 8102852,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                },
                itemStyle: { color: "#a05195" },
              },
              {
                value: 7823473,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                },
                itemStyle: { color: "#d45087" },
              },
              {
                value: 3426212,
                itemStyle: {
                  normal: {
                    borderWidth: 2,
                  },
                },
                label: {
                  position: "top",
                  offset: [0, 0],
                  show: true,
                },
                itemStyle: { color: "#f95d6a" },
              },
            ],
          },
        ],
      });
    }

    //
    // Resize charts
    //

    // Resize function
    var triggerChartResize = function () {
      speciesGp_yearly_element && speciesGp_yearly.resize();
    };

    // On sidebar width change
    var sidebarToggle = document.querySelector(".sidebar-control");
    sidebarToggle && sidebarToggle.addEventListener("click", triggerChartResize);

    // On window resize
    var resizeCharts;
    window.addEventListener("resize", function () {
      clearTimeout(resizeCharts);
      resizeCharts = setTimeout(function () {
        triggerChartResize();
      }, 200);
    });
  };

  //
  // Return objects assigned to module
  //

  return {
    init: function () {
      _speciesGpYearlyExample();
    },
  };
})();

// Initialize module
// ------------------------------

document.addEventListener("DOMContentLoaded", function () {
  EchartsspeciesGpYearly.init();
});
