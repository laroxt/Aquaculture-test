/* ------------------------------------------------------------------------------
 *
 *  # Echarts - Basic bars example
 *
 *  Demo JS code for basic bar chart [light theme]
 *
 * ---------------------------------------------------------------------------- */

// Setup module
// ------------------------------

var speciesSalesMonthlyByFarm = (function () {
  //
  // Setup module components
  //

  // Basic bar chart
  var _speciesSalesMonthlyByFarmExample = function () {
    if (typeof echarts == "undefined") {
      console.warn("Warning - echarts.min.js is not loaded.");
      return;
    }

    // Define element
    var speciesSales_byFarm_monthly_element = document.getElementById(
      "speciesSales_byFarm_monthly"
    );

    //
    // Charts configuration
    //

    if (speciesSales_byFarm_monthly_element) {
      // Initialize chart
      var speciesSales_byFarm_monthly = echarts.init(speciesSales_byFarm_monthly_element);

      //
      // Chart config
      //

      // Options
      speciesSales_byFarm_monthly.setOption({
        // Global text styles
        textStyle: {
          fontFamily: "Roboto, Arial, Verdana, sans-serif",
          fontSize: 13,
        },

        // Chart animation duration
        animationDuration: 750,

        // Setup grid
        grid: {
          left: 0,
          right: 30,
          top: 35,
          bottom: 0,
          top: 60,
          containLabel: true,
        },
        title: {
          text: "Species GP(RM)",
          textStyle: {
            fontSize: 14,
          },
          subtext: "Red Snapper",
        },

        // Add tooltip
        tooltip: {
          trigger: "axis",
          backgroundColor: "rgba(0,0,0,0.75)",
          padding: [10, 15],
          textStyle: {
            fontSize: 13,
            fontFamily: "Roboto, sans-serif",
          },
          axisPointer: {
            type: "shadow",
            shadowStyle: {
              color: "rgba(0,0,0,0.075)",
            },
          },
        },

        // Horizontal axis
        yAxis: [
          {
            type: "value",
            boundaryGap: [0, 0.01],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: "#eee",
                type: "dashed",
              },
            },
          },
        ],

        // Vertical axis
        xAxis: [
          {
            type: "category",
            data: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "June",
              "July",
              "Aug",
              "Sept",
              "Oct",
              "Nov",
              "Dec",
            ],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#eee"],
              },
            },
            splitArea: {
              show: true,
              areaStyle: {
                color: ["rgba(250,250,250,0.1)", "rgba(0,0,0,0.015)"],
              },
            },
          },
        ],

        // Add series
        series: [
          {
            name: "Farm",
            type: "bar",
            color: "#00aecc",
            symbolSize: 7,
            data: [
              39325,
              83438,
              131000,
              221594,
              334141,
              39325,
              83438,
              131000,
              221594,
              334141,
              221594,
              334141,
            ],
            itemStyle: {
              normal: {
                borderWidth: 2,
              },
            },
            label: {
              position: "top",
              offset: [0, 0],
              show: true,
              color: "#333",
            },
          },
        ],
      });
    }

    //
    // Resize charts
    //

    // Resize function
    var triggerChartResize = function () {
      speciesSales_byFarm_monthly_element && speciesSales_byFarm_monthly.resize();
    };

    // On sidebar width change
    var sidebarToggle = document.querySelector(".sidebar-control");
    sidebarToggle && sidebarToggle.addEventListener("click", triggerChartResize);

    // On window resize
    var resizeCharts;
    window.addEventListener("resize", function () {
      clearTimeout(resizeCharts);
      resizeCharts = setTimeout(function () {
        triggerChartResize();
      }, 200);
    });
  };

  //
  // Return objects assigned to module
  //

  return {
    init: function () {
      _speciesSalesMonthlyByFarmExample();
    },
  };
})();

// Initialize module
// ------------------------------

document.addEventListener("DOMContentLoaded", function () {
  speciesSalesMonthlyByFarm.init();
});
