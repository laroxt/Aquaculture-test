/* ------------------------------------------------------------------------------
 *
 *  # Echarts - Basic bars example
 *
 *  Demo JS code for basic bar chart [light theme]
 *
 * ---------------------------------------------------------------------------- */

// Setup module
// ------------------------------

var EchartsfarmYearlySales = (function () {
  //
  // Setup module components
  //

  // Basic bar chart
  var _farmYearlySalesExample = function () {
    if (typeof echarts == "undefined") {
      console.warn("Warning - echarts.min.js is not loaded.");
      return;
    }

    // Define element
    var farm_sales_yearly_element = document.getElementById("farm_sales_yearly");

    //
    // Charts configuration
    //

    if (farm_sales_yearly_element) {
      // Initialize chart
      var farm_sales_yearly = echarts.init(farm_sales_yearly_element);

      //
      // Chart config
      //

      // Options
      farm_sales_yearly.setOption({
        // Global text styles
        textStyle: {
          fontFamily: "Roboto, Arial, Verdana, sans-serif",
          fontSize: 13,
        },

        // Chart animation duration
        animationDuration: 750,

        // Setup grid
        grid: {
          left: 0,
          right: 30,
          top: 35,
          bottom: 0,
          top: 60,
          containLabel: true,
        },
        title: {
          text: "Farm Sales Profit(RM)",
          textStyle: {
            fontSize: 14,
          },
          subtext: "All Farm",
        },

        // Add tooltip
        tooltip: {
          trigger: "axis",
          backgroundColor: "rgba(0,0,0,0.75)",
          padding: [10, 15],
          textStyle: {
            fontSize: 13,
            fontFamily: "Roboto, sans-serif",
          },
        },

        // Horizontal axis
        yAxis: [
          {
            type: "value",
            boundaryGap: [0, 0.01],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: "#eee",
                type: "dashed",
              },
            },
          },
        ],

        // Vertical axis
        xAxis: [
          {
            type: "category",
            data: [
              "BA1",
              "BA2",
              "BA3",
              "BA4",
              "BA5",
              "BA6",
              "BA7",
              "BA8",
              "BA9",
              "BA10",
              "BA11",
              "BA12",
            ],
            axisLabel: {
              color: "#333",
            },
            axisLine: {
              lineStyle: {
                color: "#999",
              },
            },
            splitLine: {
              show: true,
              lineStyle: {
                color: ["#eee"],
              },
            },
            splitArea: {
              show: true,
              areaStyle: {
                color: ["rgba(250,250,250,0.1)", "rgba(0,0,0,0.015)"],
              },
            },
          },
        ],

        // Add series
        series: [
          {
            name: "Farm",
            type: "line",
            symbolSize: 7,
            data: [120, 132, 101, 134, 90, 230, 210, 120, 132, 101, 134, 90],
            itemStyle: {
              normal: {
                borderWidth: 2,
                color: "#003f5c",
              },
            },
            label: {
              position: "top",
              offset: [0, -10],
              show: true,
            },
          },
        ],
      });
    }

    //
    // Resize charts
    //

    // Resize function
    var triggerChartResize = function () {
      farm_sales_yearly_element && farm_sales_yearly.resize();
    };

    // On sidebar width change
    var sidebarToggle = document.querySelector(".sidebar-control");
    sidebarToggle && sidebarToggle.addEventListener("click", triggerChartResize);

    // On window resize
    var resizeCharts;
    window.addEventListener("resize", function () {
      clearTimeout(resizeCharts);
      resizeCharts = setTimeout(function () {
        triggerChartResize();
      }, 200);
    });
  };

  //
  // Return objects assigned to module
  //

  return {
    init: function () {
      _farmYearlySalesExample();
    },
  };
})();

// Initialize module
// ------------------------------

document.addEventListener("DOMContentLoaded", function () {
  EchartsfarmYearlySales.init();
});
